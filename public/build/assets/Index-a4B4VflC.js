import{j as e,r as A,R as a,y as q}from"./app-BIZ5UUjZ.js";import{S as Q,d as B,a as F,V as X,b as W,m as S,C as G,s as Y,c as J,P as Z,p as $,T as ee}from"./index-CsrSDwQR.js";import{D as v}from"./Dropdown-CTEbPRT9.js";import{u as te,i as se,N as ae}from"./Navbar-DMv-9k7e.js";import{C as re}from"./CardOne-C9rs87pN.js";import{b as R}from"./chunk-NXTXE2B3-CUgcCThK.js";import{t as ne,a as le,b as oe,c as ie,d as de,e as ce}from"./chunk-YRZGWF2W-CzcgdF4O.js";import"./chunk-BSXPKUBX-bPhEZUX7.js";import"./index-BsDyj3j9.js";import"./import-DPPIPtdv.js";import"./transition-yd9qcahh.js";import"./import-BNBOnbT8.js";import"./ThemeSwitch-Ccb08lNs.js";import"./SunFilledIcon-DgpnawAO.js";import"./MoonFilledIcon-DZIu5Rxt.js";import"./GithubIcon-2AQzBS0E.js";import"./TwitterIcon-C7qFpD-V.js";import"./DiscordIcon-DYxZ9Dcf.js";import"./HeartFilledIcon-BKyjyrSf.js";import"./SearchIcon-CQqw9dO0.js";import"./Logo-DdGqpAc3.js";import"./ButtonOne--LzNTmqI.js";import"./chunk-AMSULWPV-D7ZuIvv5.js";const K=(s,n,d)=>{const l=new URL(s),c=l.searchParams;return c.set(n,d),l.search=c.toString(),l.toString()},ue=(s,n=null)=>{const d=n??window.location.href;return new URLSearchParams(new URL(d).search).get(s)},me=s=>e.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...s,children:e.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),pe={label:"text-black/50 dark:text-white/90",input:["bg-transparent","text-black/90 dark:text-white/90","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","focus-within:!bg-default-200/50","dark:hover:bg-default/70","dark:focus-within:!bg-default/60","!cursor-text"]},he=A.forwardRef((s,n)=>{const[d,l]=A.useState(""),[c,u]=A.useState(null),L=x=>{const N=x.target.value;l(N),c&&clearTimeout(c);const O=setTimeout(()=>{l(N),console.log(N)},500);u(O)},{Component:y,label:V,domRef:z,description:P,isClearable:o,startContent:f,endContent:g,shouldLabelBeOutside:p,shouldLabelBeInside:I,errorMessage:k,getBaseProps:j,getLabelProps:D,getInputProps:b,getInnerWrapperProps:w,getInputWrapperProps:C,getDescriptionProps:U,getErrorMessageProps:E,getClearButtonProps:_}=te({...s,ref:n,type:"search",placeholder:"Type to search...",startContent:e.jsx(Q,{className:"text-black/50 mb-0.5 dark:text-white/90 text-slate-400 pointer-events-none flex-shrink-0"}),value:d,onChange:L,classNames:{...pe}}),m=e.jsx("label",{...D(),children:V}),h=a.useMemo(()=>o?e.jsx("span",{..._(),children:g||e.jsx(me,{})}):g,[o,_]),M=a.useMemo(()=>f||h?e.jsxs("div",{...w(),children:[f,e.jsx("input",{...b()}),h]}):e.jsx("input",{...b()}),[f,h,b,w]);return e.jsxs(y,{...j(),children:[p?m:null,e.jsxs("div",{...C(),role:"button",onClick:()=>{var x;(x=z.current)==null||x.focus()},children:[I?m:null,M]}),P&&e.jsx("div",{...U(),children:P}),k&&e.jsx("div",{...E(),children:k})]})});he.displayName="MyInput";const xe=["name","npk","unit","actions"];function fe({collection:s}){const n=[{name:"ID",uid:"id",sortable:!0},{name:"NAME",uid:"name",sortable:!0},{name:"NPK",uid:"npk",sortable:!0},{name:"UNIT",uid:"unit",sortable:!0},{name:"ACTIONS",uid:"actions"}],d=s==null?void 0:s.data,[l,c]=a.useState("");a.useState(new Set([]));const[u,L]=a.useState(new Set(xe)),[y,V]=a.useState("all"),[z,P]=a.useState(s==null?void 0:s.meta.per_page),[o,f]=a.useState({column:"name",direction:"ascending"}),[g,p]=a.useState(ue("search")??""),[I,k]=a.useState(null);a.useState("");const[j,D]=a.useState(s==null?void 0:s.meta.current_page),b=a.useMemo(()=>u==="all"?n:n.filter(t=>Array.from(u).includes(t.uid)),[u]),w=s==null?void 0:s.meta.last_page,C=a.useMemo(()=>s==null?void 0:s.data,[j,z]),U=a.useMemo(()=>[...C].sort((t,r)=>{const i=t[o.column],T=r[o.column],H=i<T?-1:i>T?1:0;return o.direction==="descending"?-H:H}),[o,C]),E=a.useCallback((t,r)=>{const i=t[r];switch(r){case"name":return e.jsx("p",{children:t.name});case"role":return e.jsx("p",{children:t.unit});case"status":return e.jsx("p",{children:t.npk});case"actions":return e.jsx("div",{className:"relative flex justify-end items-center gap-2",children:e.jsxs(B,{children:[e.jsx(F,{children:e.jsx(R,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(X,{className:"text-gray-600 dark:text-white"})})}),e.jsxs(W,{children:[e.jsx(S,{children:"View"}),e.jsx(S,{children:"Edit"}),e.jsx(S,{children:"Delete"})]})]})});default:return i}},[]),_=a.useCallback(t=>{const r=K(window.location.href,"page",t);return q.get(r,{},{preserveScroll:!0})},[]),m=(t,r)=>{const i=K(window.location.href,"page",1),T=K(i,t,r);return q.get(T,{},{preserveScroll:!0})},h=a.useCallback(t=>(P(Number(t.target.value)),D(1),m("per_page",Number(t.target.value))),[]),M=t=>{if(t){const r=t;p(r),I&&clearTimeout(I);const i=setTimeout(()=>(p(r),m("search",r)),500);k(i)}else return p(""),m("search","")},x=a.useCallback(()=>(p(""),m("search","")),[]),N=a.useMemo(()=>e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex justify-between gap-3 items-end",children:[e.jsx(se,{isClearable:!0,className:"w-full sm:max-w-[44%]",placeholder:"Search by name...",startContent:e.jsx(Q,{}),size:"sm",value:g,onClear:()=>x(),onValueChange:M,autoFocus:!0,spellCheck:!1}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(B,{children:[e.jsx(F,{className:"hidden sm:flex",children:e.jsx(R,{endContent:e.jsx(G,{className:"text-small"}),size:"sm",variant:"flat",children:"Status"})}),e.jsx(W,{disallowEmptySelection:!0,"aria-label":"Table Columns",closeOnSelect:!1,selectedKeys:y,selectionMode:"multiple",onSelectionChange:V,children:Y.map(t=>e.jsx(S,{className:"capitalize",children:J(t.name)},t.uid))})]}),e.jsxs(B,{children:[e.jsx(F,{className:"hidden sm:flex",children:e.jsx(R,{endContent:e.jsx(G,{className:"text-small"}),size:"sm",variant:"flat",children:"Columns"})}),e.jsx(W,{disallowEmptySelection:!0,"aria-label":"Table Columns",closeOnSelect:!1,selectedKeys:u,selectionMode:"multiple",onSelectionChange:L,children:n.map(t=>e.jsx(S,{className:"capitalize",children:J(t.name)},t.uid))})]}),e.jsx(R,{color:"primary",endContent:e.jsx(Z,{}),size:"sm",children:"Add New"})]})]})}),[g,l,y,u,h,d.length,M]),O=a.useMemo(()=>e.jsxs("div",{className:"flex-between",children:[e.jsx("div",{className:"w-full py-2 px-2 flex-start gap-2",children:e.jsx($,{isCompact:!0,showControls:!0,size:"sm",showShadow:!0,color:"primary",page:j,total:w,onChange:_})}),e.jsxs("div",{className:"w-full flex-end gap-8",children:[e.jsxs("label",{className:"flex-start gap-2 text-small",children:["Rows per page:",e.jsxs("select",{className:"cursor-pointer bg-transparent outline-none text-small text-blue-500",onChange:h,children:[e.jsx("option",{value:"15",children:"15"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]})]}),e.jsxs("span",{className:"text-small",children:["Total ",s==null?void 0:s.meta.total," members"]})]})]}),[C.length,j,w]);return e.jsxs(ne,{"aria-label":"Daftar Member",isCompact:!0,isStriped:!0,isHeaderSticky:!0,bottomContent:O,bottomContentPlacement:"outside",classNames:{},sortDescriptor:o,topContent:N,topContentPlacement:"outside",onSortChange:f,children:[e.jsx(le,{columns:b,children:t=>e.jsx(oe,{align:t.uid==="actions"?"center":"start",allowsSorting:t.sortable,children:t.name},t.uid)}),e.jsx(ie,{emptyContent:"No users found",items:U,children:t=>e.jsx(de,{children:r=>e.jsx(ce,{children:E(t,r)})},t.id)})]})}function Ae(s){return e.jsxs("div",{className:"h-screen",children:[e.jsx(ae,{}),e.jsxs(v,{children:[e.jsx(v.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none transition ease-in-out duration-150",children:["xxxxxx",e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(v.Content,{children:[e.jsx(v.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(v.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]}),e.jsxs("main",{className:"py-4 px-6 flex justify-between gap-2",children:[e.jsx("div",{className:"w-1/5",children:e.jsx(re,{})}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("span",{className:"text-xl text-default-600",children:"Daftar Pelanggan"}),e.jsx(fe,{collection:s.members}),e.jsx(ee,{})]})]}),e.jsx("footer",{className:"w-full flex items-center justify-center py-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-current",children:[e.jsx("span",{className:"text-default-600",children:"Powered by"}),e.jsx("p",{className:"text-primary",children:"NextUI"})]})})]})}export{Ae as default};
